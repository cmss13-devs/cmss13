<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="dmdoc.css"><title>/atom - byond</title></head><body><header><a href="index.html">byond</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="atom.html#var">Var Details</a> - <a href="atom.html#proc">Proc Details</a></header><main><h1>/<a href="atom.html">atom</a><aside> inherits /<a href="datum.html">datum</a></aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L2"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 2"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="atom.html#var/base_pixel_x">base_pixel_x</a></th><td>Default pixel x shifting for the atom's icon.</td></tr><tr><th><a href="atom.html#var/base_pixel_y">base_pixel_y</a></th><td>Default pixel y shifting for the atom's icon.</td></tr><tr><th><a href="atom.html#var/base_transform">base_transform</a></th><td>Base transform matrix, edited by admin tooling and such</td></tr><tr><th><a href="atom.html#var/emp_proof">emp_proof</a></th><td>determines whether or not the object can be affected by EMPs</td></tr><tr><th><a href="atom.html#var/explo_proof">explo_proof</a></th><td>determines whether or not the object can be destroyed by an explosion</td></tr><tr><th><a href="atom.html#var/hybrid_light_sources">hybrid_light_sources</a></th><td>Any light sources that are &quot;inside&quot; of us, for example, if src here was a mob that's carrying a flashlight, that flashlight's light source would be part of this list.</td></tr><tr><th><a href="atom.html#var/last_balloon_alert_time">last_balloon_alert_time</a></th><td>The world.time the last balloon alert was displayed</td></tr><tr><th><a href="atom.html#var/light">light</a></th><td>Our light source. Don't fuck with this directly unless you have a good reason!</td></tr><tr><th><a href="atom.html#var/light_color">light_color</a></th><td>Hexadecimal RGB string representing the colour of the light. White by default.</td></tr><tr><th><a href="atom.html#var/light_flags">light_flags</a></th><td>Bitflags to determine lighting-related atom properties.</td></tr><tr><th><a href="atom.html#var/light_mask_type">light_mask_type</a></th><td>typepath for the lighting maskfor dynamic light sources</td></tr><tr><th><a href="atom.html#var/light_on">light_on</a></th><td>Boolean variable for toggleable lights. Has no effect without the proper light_system, light_range and light_power values.</td></tr><tr><th><a href="atom.html#var/light_pixel_x">light_pixel_x</a></th><td>x offset for dynamic lights on this atom</td></tr><tr><th><a href="atom.html#var/light_pixel_y">light_pixel_y</a></th><td>y offset for dynamic lights on this atom</td></tr><tr><th><a href="atom.html#var/light_power">light_power</a></th><td>Intensity of the light. The stronger, the less shadows you will see on the lit area.</td></tr><tr><th><a href="atom.html#var/light_range">light_range</a></th><td>Range of the light in tiles. Zero means no light.</td></tr><tr><th><a href="atom.html#var/light_system">light_system</a></th><td>Light systems, only one of the three should be active at the same time.</td></tr><tr><th><a href="atom.html#var/minimap_color">minimap_color</a></th><td>The color this atom will be if we choose to draw it on the minimap</td></tr><tr><th><a href="atom.html#var/orbit_target">orbit_target</a></th><td>Reference to atom being orbited</td></tr><tr><th><a href="atom.html#var/raw_transform">raw_transform</a></th><td>Last transform used before being compound with base_transform
This allows us to re-create transform if only base_transform changes</td></tr><tr><th><a href="atom.html#var/reagents">reagents</a></th><td>Chemistry.</td></tr><tr><th><a href="atom.html#var/static_light">static_light</a></th><td>The light source, datum. don't fuck with this directly</td></tr><tr><th><a href="atom.html#var/static_light_sources">static_light_sources</a></th><td>Static light sources currently attached to this atom, this includes ones owned by atoms inside this atom</td></tr><tr><th><a href="atom.html#var/unacidable">unacidable</a></th><td>determines whether or not the object can be destroyed by xeno acid</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="atom.html#proc/GetAllContents">GetAllContents</a></th><td>Will return the contents of an atom recursivly to a depth of 'searchDepth', not including starting atom</td></tr><tr><th><a href="atom.html#proc/Topic">Topic</a></th><td>Passes Stat Browser Panel clicks to the game and calls client click on an atom</td></tr><tr><th><a href="atom.html#proc/add_blood">add_blood</a></th><td>add_blood</td></tr><tr><th><a href="atom.html#proc/apply_transform">apply_transform</a></th><td>Updates the atom's transform compounding it with <a href="atom.html#var/base_transform" title="/atom">/atom/var/base_transform</a></td></tr><tr><th><a href="atom.html#proc/attack_alien">attack_alien</a></th><td>*The parent proc, will default to UnarmedAttack behaviour unless overridden
Return XENO_ATTACK_ACTION if it does something and the attack should have full attack delay.
Return XENO_NONCOMBAT_ACTION if it did something and should have some delay.
Return XENO_NO_DELAY_ACTION if it gave an error message or should have no delay at all, ex. &quot;You can't X that, it's Y!&quot;
Return FALSE if it didn't do anything and should count as a missed slash.</td></tr><tr><th><a href="atom.html#proc/balloon_alert_to_viewers">balloon_alert_to_viewers</a></th><td>Create balloon alerts (text that floats up) to everything within range.
Will only display to people who can see.</td></tr><tr><th><a href="atom.html#proc/beam">beam</a></th><td>This is what you use to start a beam. Example: origin.Beam(target, args). <strong>Store the return of this proc if you don't set maxdist or time, you need it to delete the beam.</strong></td></tr><tr><th><a href="atom.html#proc/connect_to_shuttle">connect_to_shuttle</a></th><td>This proc is called on atoms when they are loaded into a shuttle</td></tr><tr><th><a href="atom.html#proc/get_all_contents">get_all_contents</a></th><td>Returns the src and all recursive contents as a list. Includes the starting atom.</td></tr><tr><th><a href="atom.html#proc/get_all_orbiters">get_all_orbiters</a></th><td>Recursive getter method to return a list of all ghosts orbitting this atom</td></tr><tr><th><a href="atom.html#proc/get_storage_depth_to">get_storage_depth_to</a></th><td><em>Returns the storage depth of an atom. This is the number of items the atom is nested in before reaching the designated container, counted inclusively.
Returning 1 == directly inside the container's contents, 2 == inside something which is itself inside the container, etc.
An alternative to loc.loc; looked at another way, the number it returns is the number of loc checks before reaching the target.
Returns FALSE if the atom isn't somewhere inside the container's contents.</em></td></tr><tr><th><a href="atom.html#proc/get_storage_depth_turf">get_storage_depth_turf</a></th><td><em>Like get storage depth to, but returns the depth to the nearest turf, inclusively
Returns FALSE if no top level turf (a loc was null somewhere, or a non-turf atom's loc was an area somehow).</em></td></tr><tr><th><a href="atom.html#proc/langchat_display_image">langchat_display_image</a></th><td></td></tr><tr><th><a href="atom.html#proc/langchat_drop_image">langchat_drop_image</a></th><td>Hides the image, if one exists. Do not null the langchat image; it is rotated when the mob is buckled or proned to maintain text orientation.</td></tr><tr><th><a href="atom.html#proc/langchat_make_image">langchat_make_image</a></th><td>Creates the image if one does not exist, resets settings that are modified by speech procs.</td></tr><tr><th><a href="atom.html#proc/relaydrive">relaydrive</a></th><td>A special case of relaymove() in which the person relaying the move may be &quot;driving&quot; this atom</td></tr><tr><th><a href="atom.html#proc/reset_light">reset_light</a></th><td>Turn on the light, should be called by a timer</td></tr><tr><th><a href="atom.html#proc/setDir">setDir</a></th><td>Hook for running code when a dir change occurs</td></tr><tr><th><a href="atom.html#proc/set_density">set_density</a></th><td>Setter for the <code>density</code> variable to append behavior related to its changing.</td></tr><tr><th><a href="atom.html#proc/set_light_flags">set_light_flags</a></th><td>Setter for the light flags of this atom.</td></tr><tr><th><a href="atom.html#proc/set_opacity">set_opacity</a></th><td>Updates the atom's opacity value.</td></tr><tr><th><a href="atom.html#proc/static_update_light">static_update_light</a></th><td>Pretty simple, just updates static lights on this atom</td></tr><tr><th><a href="atom.html#proc/transfer_label_component">transfer_label_component</a></th><td>//////////////////// Hand Labeler ////////////////////////////////
meant for use with qdelling/newing things to transfer labels between them</td></tr><tr><th><a href="atom.html#proc/transition_filter">transition_filter</a></th><td></td></tr><tr><th><a href="atom.html#proc/turn_light">turn_light</a></th><td>If this object has lights, turn it on/off.
user: the mob actioning this
toggle_on: if TRUE, will try to turn ON the light. Opposite if FALSE
cooldown: how long until you can toggle the light on/off again
sparks: if a spark effect will be generated
forced: if TRUE and toggle_on = FALSE, will cause the light to turn on in cooldown second
originated_turf: if not null, will check if the obj_turf is closer than distance_max to originated_turf, and the proc will return if not
distance_max: used to check if originated_turf is close to obj.loc</td></tr><tr><th><a href="atom.html#proc/update_base_transform">update_base_transform</a></th><td>Upates the base_transform which will be compounded with other transforms</td></tr><tr><th><a href="atom.html#proc/update_light">update_light</a></th><td>Will update the light (duh).Creates or destroys it if needed, makes it update values, makes sure it's got the correct source turf...</td></tr><tr><th><a href="atom.html#proc/vv_get_dropdown">vv_get_dropdown</a></th><td>Return the markup to for the dropdown list for the VV panel for this atom</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/base_pixel_x"><aside class="declaration">var </aside>base_pixel_x <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L67"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 67"></a></h3><p>Default pixel x shifting for the atom's icon.</p><h3 id="var/base_pixel_y"><aside class="declaration">var </aside>base_pixel_y <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L69"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 69"></a></h3><p>Default pixel y shifting for the atom's icon.</p><h3 id="var/base_transform"><aside class="declaration">var </aside>base_transform <aside>– /matrix</aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L43"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 43"></a></h3><p>Base transform matrix, edited by admin tooling and such</p><h3 id="var/emp_proof"><aside class="declaration">var </aside>emp_proof <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L18"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 18"></a></h3><p>determines whether or not the object can be affected by EMPs</p><h3 id="var/explo_proof"><aside class="declaration">var </aside>explo_proof <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L16"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 16"></a></h3><p>determines whether or not the object can be destroyed by an explosion</p><h3 id="var/hybrid_light_sources"><aside class="declaration">var </aside>hybrid_light_sources <aside>– /tmp/list</aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L88"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 88"></a></h3><p>Any light sources that are &quot;inside&quot; of us, for example, if src here was a mob that's carrying a flashlight, that flashlight's light source would be part of this list.</p><h3 id="var/last_balloon_alert_time"><aside class="declaration">var </aside>last_balloon_alert_time <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/datums/balloon_alerts/balloon_alerts.dm#L12"><img src="git.png" width="16" height="16" title="code/datums/balloon_alerts/balloon_alerts.dm 12"></a></h3><p>The world.time the last balloon alert was displayed</p><h3 id="var/light"><aside class="declaration">var </aside>light <aside>– /tmp/<a href="datum.html">datum</a>/<a href="datum/dynamic_light_source.html">dynamic_light_source</a></aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L86"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 86"></a></h3><p>Our light source. Don't fuck with this directly unless you have a good reason!</p><h3 id="var/light_color"><aside class="declaration">var </aside>light_color <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L80"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 80"></a></h3><p>Hexadecimal RGB string representing the colour of the light. White by default.</p><h3 id="var/light_flags"><aside class="declaration">var </aside>light_flags <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L84"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 84"></a></h3><p>Bitflags to determine lighting-related atom properties.</p><h3 id="var/light_mask_type"><aside class="declaration">var </aside>light_mask_type <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L99"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 99"></a></h3><p>typepath for the lighting maskfor dynamic light sources</p><h3 id="var/light_on"><aside class="declaration">var </aside>light_on <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L82"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 82"></a></h3><p>Boolean variable for toggleable lights. Has no effect without the proper light_system, light_range and light_power values.</p><h3 id="var/light_pixel_x"><aside class="declaration">var </aside>light_pixel_x <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L95"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 95"></a></h3><p>x offset for dynamic lights on this atom</p><h3 id="var/light_pixel_y"><aside class="declaration">var </aside>light_pixel_y <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L97"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 97"></a></h3><p>y offset for dynamic lights on this atom</p><h3 id="var/light_power"><aside class="declaration">var </aside>light_power <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L78"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 78"></a></h3><p>Intensity of the light. The stronger, the less shadows you will see on the lit area.</p><h3 id="var/light_range"><aside class="declaration">var </aside>light_range <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L76"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 76"></a></h3><p>Range of the light in tiles. Zero means no light.</p><h3 id="var/light_system"><aside class="declaration">var </aside>light_system <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L74"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 74"></a></h3><p>Light systems, only one of the three should be active at the same time.</p><h3 id="var/minimap_color"><aside class="declaration">var </aside>minimap_color <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L102"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 102"></a></h3><p>The color this atom will be if we choose to draw it on the minimap</p><h3 id="var/orbit_target"><aside class="declaration">var </aside>orbit_target <aside>– /<a href="atom.html">atom</a></aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L64"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 64"></a></h3><p>Reference to atom being orbited</p><h3 id="var/raw_transform"><aside class="declaration">var </aside>raw_transform <aside>– /matrix</aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L46"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 46"></a></h3><p>Last transform used before being compound with base_transform
This allows us to re-create transform if only base_transform changes</p><h3 id="var/reagents"><aside class="declaration">var </aside>reagents <aside>– /<a href="datum.html">datum</a>/<a href="datum/reagents.html">reagents</a></aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L49"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 49"></a></h3><p>Chemistry.</p><h3 id="var/static_light"><aside class="declaration">var </aside>static_light <aside>– /tmp/<a href="datum.html">datum</a>/<a href="datum/static_light_source.html">static_light_source</a></aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/modules/lighting/lighting_static/static_lighting_atom.dm#L4"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_static/static_lighting_atom.dm 4"></a></h3><p>The light source, datum. don't fuck with this directly</p><h3 id="var/static_light_sources"><aside class="declaration">var </aside>static_light_sources <aside>– /tmp/list</aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/modules/lighting/lighting_static/static_lighting_atom.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_static/static_lighting_atom.dm 6"></a></h3><p>Static light sources currently attached to this atom, this includes ones owned by atoms inside this atom</p><h3 id="var/unacidable"><aside class="declaration">var </aside>unacidable <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L14"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 14"></a></h3><p>determines whether or not the object can be destroyed by xeno acid</p><h2 id="proc">Proc Details</h2><h3 id="proc/GetAllContents"><aside class="declaration">proc </aside>GetAllContents<aside>(searchDepth, /list/toReturn)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/__HELPERS/unsorted.dm#L557"><img src="git.png" width="16" height="16" title="code/__HELPERS/unsorted.dm 557"></a></aside></h3><p>Will return the contents of an atom recursivly to a depth of 'searchDepth', not including starting atom</p><h3 id="proc/Topic">Topic<aside>(href, /list/href_list)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L494"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 494"></a></aside></h3><p>Passes Stat Browser Panel clicks to the game and calls client click on an atom</p><h3 id="proc/add_blood"><aside class="declaration">proc </aside>add_blood<aside>(b_color)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/blood.dm#L11"><img src="git.png" width="16" height="16" title="code/game/blood.dm 11"></a></aside></h3><p>add_blood</p><h3 id="proc/apply_transform"><aside class="declaration">proc </aside>apply_transform<aside>(/matrix/new_transform, time, easing)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L161"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 161"></a></aside></h3><p>Updates the atom's transform compounding it with <a href="atom.html#var/base_transform" title="/atom">/atom/var/base_transform</a></p><h3 id="proc/attack_alien"><aside class="declaration">proc </aside>attack_alien<aside>(/<a href="mob.html">mob</a>/user<span class="as"> as </span><a href="mob.html">mob</a>)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/_onclick/xeno.dm#L114"><img src="git.png" width="16" height="16" title="code/_onclick/xeno.dm 114"></a></aside></h3><p>*The parent proc, will default to UnarmedAttack behaviour unless overridden
Return XENO_ATTACK_ACTION if it does something and the attack should have full attack delay.
Return XENO_NONCOMBAT_ACTION if it did something and should have some delay.
Return XENO_NO_DELAY_ACTION if it gave an error message or should have no delay at all, ex. &quot;You can't X that, it's Y!&quot;
Return FALSE if it didn't do anything and should count as a missed slash.</p>
<p>If using do_afters or sleeps, use invoke_async (or manually add the relevant action delayand return FALSE
so that it doesn't double up on the delays) so that it applies the delay immediately instead of when it finishes.*</p><h3 id="proc/balloon_alert_to_viewers"><aside class="declaration">proc </aside>balloon_alert_to_viewers<aside>(message, self_message, max_distance, /list/ignored_mobs, text_color, delay)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/datums/balloon_alerts/balloon_alerts.dm#L31"><img src="git.png" width="16" height="16" title="code/datums/balloon_alerts/balloon_alerts.dm 31"></a></aside></h3><p>Create balloon alerts (text that floats up) to everything within range.
Will only display to people who can see.</p><h3 id="proc/beam"><aside class="declaration">proc </aside>beam<aside>(/<a href="atom.html">atom</a>/BeamTarget, icon_state, icon, time, maxdistance, beam_type, always_turn)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/datums/beam.dm#L210"><img src="git.png" width="16" height="16" title="code/datums/beam.dm 210"></a></aside></h3><p>This is what you use to start a beam. Example: origin.Beam(target, args). <strong>Store the return of this proc if you don't set maxdist or time, you need it to delete the beam.</strong></p>
<p>Unless you're making a custom beam effect (see the beam_type argument), you won't actually have to mess with any other procs. Make sure you store the return of this Proc, you'll need it
to kill the beam.
<strong>Arguments:</strong>
BeamTarget: Where you're beaming from. Where do you get origin? You didn't read the docs, fuck you.
icon_state: What the beam's icon_state is. The datum effect isn't the ebeam object, it doesn't hold any icon and isn't type dependent.
icon: What the beam's icon file is. Don't change this, man. All beam icons should be in beam.dmi anyways.
maxdistance: how far the beam will go before stopping itself. Used mainly for two things: preventing lag if the beam may go in that direction and setting a range to abilities that use beams.
beam_type: The type of your custom beam. This is for adding other wacky stuff for your beam only. Most likely, you won't (and shouldn't) change it.</p><h3 id="proc/connect_to_shuttle"><aside class="declaration">proc </aside>connect_to_shuttle<aside>(mapload, /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a>/port, /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/stationary.html">stationary</a>/dock)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L528"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 528"></a></aside></h3><p>This proc is called on atoms when they are loaded into a shuttle</p><h3 id="proc/get_all_contents"><aside class="declaration">proc </aside>get_all_contents<aside>(ignore_flag_1)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/__HELPERS/unsorted.dm#L565"><img src="git.png" width="16" height="16" title="code/__HELPERS/unsorted.dm 565"></a></aside></h3><p>Returns the src and all recursive contents as a list. Includes the starting atom.</p><h3 id="proc/get_all_orbiters"><aside class="declaration">proc </aside>get_all_orbiters<aside>(/list/processed, source)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L636"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 636"></a></aside></h3><p>Recursive getter method to return a list of all ghosts orbitting this atom</p>
<p>This will work fine without manually passing arguments.</p><h3 id="proc/get_storage_depth_to"><aside class="declaration">proc </aside>get_storage_depth_to<aside>(/<a href="atom.html">atom</a>/container)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/objects/items/storage/storage.dm#L996"><img src="git.png" width="16" height="16" title="code/game/objects/items/storage/storage.dm 996"></a></aside></h3><p><em>Returns the storage depth of an atom. This is the number of items the atom is nested in before reaching the designated container, counted inclusively.
Returning 1 == directly inside the container's contents, 2 == inside something which is itself inside the container, etc.
An alternative to loc.loc; looked at another way, the number it returns is the number of loc checks before reaching the target.
Returns FALSE if the atom isn't somewhere inside the container's contents.</em></p><h3 id="proc/get_storage_depth_turf"><aside class="declaration">proc </aside>get_storage_depth_turf<aside>()  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/objects/items/storage/storage.dm#L1011"><img src="git.png" width="16" height="16" title="code/game/objects/items/storage/storage.dm 1011"></a></aside></h3><p><em>Like get storage depth to, but returns the depth to the nearest turf, inclusively
Returns FALSE if no top level turf (a loc was null somewhere, or a non-turf atom's loc was an area somehow).</em></p><h3 id="proc/langchat_display_image"><aside class="declaration">proc </aside>langchat_display_image<aside>(/<a href="mob.html">mob</a>/M)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/datums/langchat/langchat.dm#L183"><img src="git.png" width="16" height="16" title="code/datums/langchat/langchat.dm 183"></a></aside></h3><ul>
<li>Displays image to a single listener after it was built above eg. for chaining different game logic than speech code
This does just that, doesn't check deafness or language! Do what you will in that regard *</li>
</ul><h3 id="proc/langchat_drop_image"><aside class="declaration">proc </aside>langchat_drop_image<aside>()  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/datums/langchat/langchat.dm#L45"><img src="git.png" width="16" height="16" title="code/datums/langchat/langchat.dm 45"></a></aside></h3><p>Hides the image, if one exists. Do not null the langchat image; it is rotated when the mob is buckled or proned to maintain text orientation.</p><h3 id="proc/langchat_make_image"><aside class="declaration">proc </aside>langchat_make_image<aside>(override_color)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/datums/langchat/langchat.dm#L60"><img src="git.png" width="16" height="16" title="code/datums/langchat/langchat.dm 60"></a></aside></h3><p>Creates the image if one does not exist, resets settings that are modified by speech procs.</p><h3 id="proc/relaydrive"><aside class="declaration">proc </aside>relaydrive<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, direction)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L282"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 282"></a></aside></h3><p>A special case of relaymove() in which the person relaying the move may be &quot;driving&quot; this atom</p>
<p>This is a special case for vehicles and ridden animals where the relayed movement may be handled
by the riding component attached to this atom. Returns TRUE as long as there's nothing blocking
the movement, or FALSE if the signal gets a reply that specifically blocks the movement</p><h3 id="proc/reset_light"><aside class="declaration">proc </aside>reset_light<aside>()  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L692"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 692"></a></aside></h3><p>Turn on the light, should be called by a timer</p><h3 id="proc/setDir"><aside class="declaration">proc </aside>setDir<aside>(newdir)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L536"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 536"></a></aside></h3><p>Hook for running code when a dir change occurs</p>
<p>Not recommended to override, listen for the <a href="code/__DEFINES/dcs/signals/atom/signals_atom.html#define/COMSIG_ATOM_DIR_CHANGE" title="COMSIG_ATOM_DIR_CHANGE">COMSIG_ATOM_DIR_CHANGE</a> signal instead (sent by this proc)</p><h3 id="proc/set_density"><aside class="declaration">proc </aside>set_density<aside>(new_value)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L130"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 130"></a></aside></h3><p>Setter for the <code>density</code> variable to append behavior related to its changing.</p><h3 id="proc/set_light_flags"><aside class="declaration">proc </aside>set_light_flags<aside>(new_value)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/modules/lighting/lighting_atom.dm#L173"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_atom.dm 173"></a></aside></h3><p>Setter for the light flags of this atom.</p><h3 id="proc/set_opacity"><aside class="declaration">proc </aside>set_opacity<aside>(new_opacity)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/modules/lighting/lighting_atom.dm#L59"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_atom.dm 59"></a></aside></h3><p>Updates the atom's opacity value.</p>
<p>This exists to act as a hook for associated behavior.
It notifies (potentially) affected light sources so they can update (if needed).</p><h3 id="proc/static_update_light"><aside class="declaration">proc </aside>static_update_light<aside>()  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/modules/lighting/lighting_static/static_lighting_atom.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_static/static_lighting_atom.dm 9"></a></aside></h3><p>Pretty simple, just updates static lights on this atom</p><h3 id="proc/transfer_label_component"><aside class="declaration">proc </aside>transfer_label_component<aside>(/<a href="atom.html">atom</a>/target)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/objects/items/tools/misc_tools.dm#L10"><img src="git.png" width="16" height="16" title="code/game/objects/items/tools/misc_tools.dm 10"></a></aside></h3><p>//////////////////// Hand Labeler ////////////////////////////////
meant for use with qdelling/newing things to transfer labels between them</p><h3 id="proc/transition_filter"><aside class="declaration">proc </aside>transition_filter<aside>(name, /list/new_params, time, easing, loop)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L569"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 569"></a></aside></h3><ul>
<li>
<p>Update a filter's parameter and animate this change. If the filter doesnt exist we won't do anything.</p>
</li>
<li>
<p>Basically a [datum/proc/modify_filter] call but with animations. Unmodified filter parameters are kept.</p>
</li>
<li>
<p>Arguments:</p>
</li>
<li>
<ul>
<li>name - Filter name</li>
</ul>
</li>
<li>
<ul>
<li>new_params - New parameters of the filter</li>
</ul>
</li>
<li>
<ul>
<li>time - time arg of the BYOND animate() proc.</li>
</ul>
</li>
<li>
<ul>
<li>easing - easing arg of the BYOND animate() proc.</li>
</ul>
</li>
<li>
<ul>
<li>loop - loop arg of the BYOND animate() proc.</li>
</ul>
</li>
</ul><h3 id="proc/turn_light"><aside class="declaration">proc </aside>turn_light<aside>(/<a href="mob.html">mob</a>/user, toggle_on, cooldown, sparks, forced, light_again)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L674"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 674"></a></aside></h3><p>If this object has lights, turn it on/off.
user: the mob actioning this
toggle_on: if TRUE, will try to turn ON the light. Opposite if FALSE
cooldown: how long until you can toggle the light on/off again
sparks: if a spark effect will be generated
forced: if TRUE and toggle_on = FALSE, will cause the light to turn on in cooldown second
originated_turf: if not null, will check if the obj_turf is closer than distance_max to originated_turf, and the proc will return if not
distance_max: used to check if originated_turf is close to obj.loc</p><h3 id="proc/update_base_transform"><aside class="declaration">proc </aside>update_base_transform<aside>(/matrix/new_transform, time)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L178"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 178"></a></aside></h3><p>Upates the base_transform which will be compounded with other transforms</p><h3 id="proc/update_light"><aside class="declaration">proc </aside>update_light<aside>()  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/modules/lighting/lighting_atom.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_atom.dm 32"></a></aside></h3><p>Will update the light (duh).Creates or destroys it if needed, makes it update values, makes sure it's got the correct source turf...</p><h3 id="proc/vv_get_dropdown">vv_get_dropdown<aside>()  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/game/atoms.dm#L700"><img src="git.png" width="16" height="16" title="code/game/atoms.dm 700"></a></aside></h3><p>Return the markup to for the dropdown list for the VV panel for this atom</p>
<p>Override in subtypes to add custom VV handling in the VV panel</p></main><footer>colonialmarines.dme <a href="https://github.com/cmss13-devs/cmss13/tree/1ce601c8c1c984080a82f42b65ce9ee6b48f00da">1ce601c</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>