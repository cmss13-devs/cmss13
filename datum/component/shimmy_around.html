<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/component/shimmy_around - byond</title></head><body><header><a href="index.html">byond</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/component/shimmy_around.html#var">Var Details</a> - <a href="datum/component/shimmy_around.html#proc">Proc Details</a></header><main><h1>/<a href="datum.html">datum</a>/<a href="datum/component.html">component</a>/<a href="datum/component/shimmy_around.html">shimmy_around</a> <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L8"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 8"></a></h1><p>A component to act on the signal COMSIG_STRUCTURE_COLLIDED to shimmy around a dense structure
NOTE: If any part of the Collided proc chain is overriden from obj/structure you must ensure the signal is sent</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/component/shimmy_around.html#var/additional_offset">additional_offset</a></th><td>Whether to adjust the offset using the structure's offset as well</td></tr><tr><th><a href="datum/component/shimmy_around.html#var/approach_dirs">approach_dirs</a></th><td>Approachable directions bitfield</td></tr><tr><th><a href="datum/component/shimmy_around.html#var/approach_dirs_layer_override">approach_dirs_layer_override</a></th><td>Approach directions bitfield that override the mob's layer to be above our structure's</td></tr><tr><th><a href="datum/component/shimmy_around.html#var/east_offset">east_offset</a></th><td>The pixel_y offset when approaching and facing EAST</td></tr><tr><th><a href="datum/component/shimmy_around.html#var/extra_delay">extra_delay</a></th><td>Extra time added to next_move to shimmy around</td></tr><tr><th><a href="datum/component/shimmy_around.html#var/north_offset">north_offset</a></th><td>The pixel_x offset when approaching and facing NORTH</td></tr><tr><th><a href="datum/component/shimmy_around.html#var/parent_structure">parent_structure</a></th><td>The structure that we are bound to</td></tr><tr><th><a href="datum/component/shimmy_around.html#var/south_offset">south_offset</a></th><td>The pixel_x offset when approaching and facing SOUTH</td></tr><tr><th><a href="datum/component/shimmy_around.html#var/west_offset">west_offset</a></th><td>The pixel_y offset when approaching and facing WEST</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/component/shimmy_around.html#proc/can_move">can_move</a></th><td>Determines whether the user can move to some turf relative to us</td></tr><tr><th><a href="datum/component/shimmy_around.html#proc/on_collide">on_collide</a></th><td>Signal handler for COMSIG_STRUCTURE_COLLIDED to start a shimmy</td></tr><tr><th><a href="datum/component/shimmy_around.html#proc/on_mob_move">on_mob_move</a></th><td>Signal handler for COMSIG_MOVABLE_MOVED to reset their pixel offsets</td></tr><tr><th><a href="datum/component/shimmy_around.html#proc/on_mob_pre_move">on_mob_pre_move</a></th><td>Signal handler for COMSIG_MOVABLE_PRE_MOVE to prevent movement into us</td></tr><tr><th><a href="datum/component/shimmy_around.html#proc/on_mob_shimmy_layer">on_mob_shimmy_layer</a></th><td>Signal handler for COMSIG_LIVING_SHIMMY_LAYER to prevent layer reset from another shimmy component</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/additional_offset"><aside class="declaration">var </aside>additional_offset <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L24"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 24"></a></h3><p>Whether to adjust the offset using the structure's offset as well</p><h3 id="var/approach_dirs"><aside class="declaration">var </aside>approach_dirs <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L12"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 12"></a></h3><p>Approachable directions bitfield</p><h3 id="var/approach_dirs_layer_override"><aside class="declaration">var </aside>approach_dirs_layer_override <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L14"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 14"></a></h3><p>Approach directions bitfield that override the mob's layer to be above our structure's</p><h3 id="var/east_offset"><aside class="declaration">var </aside>east_offset <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L20"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 20"></a></h3><p>The pixel_y offset when approaching and facing EAST</p><h3 id="var/extra_delay"><aside class="declaration">var </aside>extra_delay <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L26"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 26"></a></h3><p>Extra time added to next_move to shimmy around</p><h3 id="var/north_offset"><aside class="declaration">var </aside>north_offset <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L16"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 16"></a></h3><p>The pixel_x offset when approaching and facing NORTH</p><h3 id="var/parent_structure"><aside class="declaration">var </aside>parent_structure <aside>– /<a href="obj.html">obj</a>/structure</aside> <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L10"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 10"></a></h3><p>The structure that we are bound to</p><h3 id="var/south_offset"><aside class="declaration">var </aside>south_offset <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L18"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 18"></a></h3><p>The pixel_x offset when approaching and facing SOUTH</p><h3 id="var/west_offset"><aside class="declaration">var </aside>west_offset <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L22"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 22"></a></h3><p>The pixel_y offset when approaching and facing WEST</p><h2 id="proc">Proc Details</h2><h3 id="proc/can_move"><aside class="declaration">proc </aside>can_move<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user, direction)  <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L63"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 63"></a></aside></h3><p>Determines whether the user can move to some turf relative to us</p><h3 id="proc/on_collide"><aside class="declaration">proc </aside>on_collide<aside>(/<a href="atom.html">atom</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/collided_atom)  <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L144"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 144"></a></aside></h3><p>Signal handler for COMSIG_STRUCTURE_COLLIDED to start a shimmy</p><h3 id="proc/on_mob_move"><aside class="declaration">proc </aside>on_mob_move<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/source, /<a href="atom.html">atom</a>/old_loc, dir, forced)  <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L284"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 284"></a></aside></h3><p>Signal handler for COMSIG_MOVABLE_MOVED to reset their pixel offsets</p><h3 id="proc/on_mob_pre_move"><aside class="declaration">proc </aside>on_mob_pre_move<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/source, new_loc)  <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L221"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 221"></a></aside></h3><p>Signal handler for COMSIG_MOVABLE_PRE_MOVE to prevent movement into us</p><h3 id="proc/on_mob_shimmy_layer"><aside class="declaration">proc </aside>on_mob_shimmy_layer<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/source)  <a href="https://github.com/cmss13-devs/cmss13/blob/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9/code/datums/components/shimmy_around.dm#L216"><img src="git.png" width="16" height="16" title="code/datums/components/shimmy_around.dm 216"></a></aside></h3><p>Signal handler for COMSIG_LIVING_SHIMMY_LAYER to prevent layer reset from another shimmy component</p></main><footer>colonialmarines.dme <a href="https://github.com/cmss13-devs/cmss13/tree/ce4ac86508e4d56788cbf9a38fa95a3f28a3e2f9">ce4ac86</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>