<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/controller/subsystem/nightmare - byond</title></head><body><header><a href="index.html">byond</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/controller/subsystem/nightmare.html#var">Var Details</a> - <a href="datum/controller/subsystem/nightmare.html#proc">Proc Details</a></header><main><h1>Nightmare <aside>/<a href="datum.html">datum</a>/<a href="datum/controller/subsystem.html">controller/subsystem</a>/<a href="datum/controller/subsystem/nightmare.html">nightmare</a></aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/controllers/subsystem/nightmare.dm#L3"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/nightmare.dm 3"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/controller/subsystem/nightmare.html#var/contexts">contexts</a></th><td>List of nightmare context types, mapped to their instance</td></tr><tr><th><a href="datum/controller/subsystem/nightmare.html#var/hostile_survivor_scenarios">hostile_survivor_scenarios</a></th><td>Associated list of scenarios that indicate hostile survivor spawning</td></tr><tr><th><a href="datum/controller/subsystem/nightmare.html#var/roots">roots</a></th><td>List of parsed file nodes</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/controller/subsystem/nightmare.html#proc/get_scenario_is_hostile_survivor">get_scenario_is_hostile_survivor</a></th><td>Returns whether the ground context indicates a hostile survivor scenario</td></tr><tr><th><a href="datum/controller/subsystem/nightmare.html#proc/get_scenario_value">get_scenario_value</a></th><td>Returns a value from the global scenario</td></tr><tr><th><a href="datum/controller/subsystem/nightmare.html#proc/load_file">load_file</a></th><td>Reads a JSON file, returns a branch nmnode representing contents of file</td></tr><tr><th><a href="datum/controller/subsystem/nightmare.html#proc/load_map_config">load_map_config</a></th><td>Load nightmare steps relevant to a map</td></tr><tr><th><a href="datum/controller/subsystem/nightmare.html#proc/parse_file">parse_file</a></th><td>Reads a JSON file, returns list of config nodes in the file</td></tr><tr><th><a href="datum/controller/subsystem/nightmare.html#proc/parse_tree">parse_tree</a></th><td>Instanciates nmnodes from parsed JSON</td></tr><tr><th><a href="datum/controller/subsystem/nightmare.html#proc/read_node">read_node</a></th><td>Instanciate a single nmnode from its JSON definition</td></tr><tr><th><a href="datum/controller/subsystem/nightmare.html#proc/set_scenario_value">set_scenario_value</a></th><td>Override a value from the global scenario.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/contexts"><aside class="declaration">var </aside>contexts <aside>– /list</aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/controllers/subsystem/nightmare.dm#L12"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/nightmare.dm 12"></a></h3><p>List of nightmare context types, mapped to their instance</p><h3 id="var/hostile_survivor_scenarios"><aside class="declaration">var </aside>hostile_survivor_scenarios <aside>– /list</aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/controllers/subsystem/nightmare.dm#L16"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/nightmare.dm 16"></a></h3><p>Associated list of scenarios that indicate hostile survivor spawning</p><h3 id="var/roots"><aside class="declaration">var </aside>roots <aside>– /list</aside> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/controllers/subsystem/nightmare.dm#L14"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/nightmare.dm 14"></a></h3><p>List of parsed file nodes</p><h2 id="proc">Proc Details</h2><h3 id="proc/get_scenario_is_hostile_survivor"><aside class="declaration">proc </aside>get_scenario_is_hostile_survivor<aside>()  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/controllers/subsystem/nightmare.dm#L150"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/nightmare.dm 150"></a></aside></h3><p>Returns whether the ground context indicates a hostile survivor scenario</p><h3 id="proc/get_scenario_value"><aside class="declaration">proc </aside>get_scenario_value<aside>(name)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/controllers/subsystem/nightmare.dm#L89"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/nightmare.dm 89"></a></aside></h3><p>Returns a value from the global scenario</p><h3 id="proc/load_file"><aside class="declaration">proc </aside>load_file<aside>(filename, tag) <span class="as"> as </span>/<a href="datum.html">datum</a>/<a href="datum/nmnode.html">nmnode</a>/<a href="datum/nmnode/branch.html">branch</a> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/controllers/subsystem/nightmare.dm#L99"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/nightmare.dm 99"></a></aside></h3><p>Reads a JSON file, returns a branch nmnode representing contents of file</p><h3 id="proc/load_map_config"><aside class="declaration">proc </aside>load_map_config<aside>(context_name, map_type)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/controllers/subsystem/nightmare.dm#L78"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/nightmare.dm 78"></a></aside></h3><p>Load nightmare steps relevant to a map</p><h3 id="proc/parse_file"><aside class="declaration">proc </aside>parse_file<aside>(filename) <span class="as"> as </span>/list/<a href="datum.html">datum</a>/<a href="datum/nmnode.html">nmnode</a> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/controllers/subsystem/nightmare.dm#L109"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/nightmare.dm 109"></a></aside></h3><p>Reads a JSON file, returns list of config nodes in the file</p><h3 id="proc/parse_tree"><aside class="declaration">proc </aside>parse_tree<aside>(/list/parsed) <span class="as"> as </span>/list/<a href="datum.html">datum</a>/<a href="datum/nmnode.html">nmnode</a> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/controllers/subsystem/nightmare.dm#L123"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/nightmare.dm 123"></a></aside></h3><p>Instanciates nmnodes from parsed JSON</p><h3 id="proc/read_node"><aside class="declaration">proc </aside>read_node<aside>(/list/parsed) <span class="as"> as </span>/<a href="datum.html">datum</a>/<a href="datum/nmnode.html">nmnode</a> <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/controllers/subsystem/nightmare.dm#L140"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/nightmare.dm 140"></a></aside></h3><p>Instanciate a single nmnode from its JSON definition</p><h3 id="proc/set_scenario_value"><aside class="declaration">proc </aside>set_scenario_value<aside>(name, value)  <a href="https://github.com/cmss13-devs/cmss13/blob/1ce601c8c1c984080a82f42b65ce9ee6b48f00da/code/controllers/subsystem/nightmare.dm#L94"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/nightmare.dm 94"></a></aside></h3><p>Override a value from the global scenario.</p></main><footer>colonialmarines.dme <a href="https://github.com/cmss13-devs/cmss13/tree/1ce601c8c1c984080a82f42b65ce9ee6b48f00da">1ce601c</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.11.0</a></footer></body></html>